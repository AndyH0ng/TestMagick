#set page(
  paper: "a4",
  margin: (x: 20mm, y: 20mm),
)

#set text(
  font: ("NanumMyeongjo", "AppleMyungjo", "PCMyungjo", "Libertinus Serif"),
  size: 11pt,
)

#align(center)[
  #set text(size: 18pt, weight: "bold")
  #text({{ title | typst_string }})
]

{% if course or date %}
#v(8pt)
{% if course %}
#align(center)[#text({{ course | typst_string }})]
{% endif %}
{% if date %}
#align(center)[#text({{ date | typst_string }})]
{% endif %}
{% endif %}

#v(10pt)
#rect(width: 100%, height: 0.6pt, fill: black)
#v(12pt)

{% for p in problems %}
*{{ loop.index }}. [{{ p.id }}] ({{ "%.2f"|format(p.points) }}점)*

{% if p.question_is_typst %}
{{ p.question_typst }}
{% else %}
#text({{ p.question | typst_string }})
{% endif %}

{% if p.type == "mcq" %}
{% for choice in p.choices %}
#block(inset: (left: 10pt))[{{ choice.label }}. {% if choice.is_typst %}{{ choice.value }}{% else %}#text({{ choice.value | typst_string }}){% endif %}]
{% endfor %}
{% else %}
- #text("정답: ___________________________")
{% endif %}

#v(10pt)
{% endfor %}
